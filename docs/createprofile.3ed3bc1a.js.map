{"mappings":"AAAA,MAEMA,EAAYC,SAASC,cAAc,eACnCC,EAAsBF,SAASC,cAAc,0BAC7CE,EAAeH,SAASC,cAAc,YAE5CC,EAAoBE,iBAAiB,SA8CrC,SAA0BC,GACtB,GAA6B,QAAzBA,EAAMC,OAAOC,QAAmB,CAChC,MAAMC,EAAMH,EAAMC,OAClBH,EAAaM,MAAQD,EAAIE,IAELR,EAAoBS,iBAAiB,OAC7CC,SAASC,IACjBA,EAAQC,UAAUC,OAAO,eAE7BP,EAAIM,UAAUE,IAAI,WACtB,CACJ,IAxDAjB,EAAUK,iBAAiB,SAE3B,SAAiBC,GACbA,EAAMY,iBAEN,MACMC,EADgBlB,SAASC,cAAc,aACdQ,MAGzBU,EADgBnB,SAASC,cAAc,aACdQ,MAGzBI,EADeb,SAASC,cAAc,YACfQ,MAE7B,IAAKS,IAAaC,IAAaN,EAE3B,YADAO,MAAM,8CAIVC,EAAcH,EAAUC,EAAUN,EACtC,IAEA,MAAMQ,EAAgBC,MAAOJ,EAAkBC,EAAkBN,KAC7D,MAAMU,EAAMC,yFAA4BN,EAAW,aAE7CO,EAAU,CACZC,KAAMR,EACNC,SAAUA,EACVN,QAASA,GAGPc,EAAO,CACTC,OAAQ,MACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CACL,eAAgB,oCAIlBC,QAAiBC,MAAMX,EAAKI,SACfM,EAASE,OAE5BC,OAAOC,SAASC,OAAO","sources":["src/createprofile.ts"],"sourcesContent":["const firebaseUrl: string = \"https://js2-slutprojekt-fdba7-default-rtdb.europe-west1.firebasedatabase.app/\";\r\n\r\nconst createBtn = document.querySelector('.create-btn') as HTMLButtonElement;\r\nconst profilePicContainer = document.querySelector('.profile-pic-container') as HTMLElement;\r\nconst pictureInput = document.querySelector('.picture') as HTMLInputElement;\r\n\r\nprofilePicContainer.addEventListener('click', selectProfilePic);\r\ncreateBtn.addEventListener('click', getInfo);\r\n\r\nfunction getInfo(event) {\r\n    event.preventDefault();\r\n\r\n    const usernameInput = document.querySelector('.username') as HTMLInputElement;\r\n    const username = usernameInput.value;\r\n\r\n    const passwordInput = document.querySelector('.password') as HTMLInputElement;\r\n    const password = passwordInput.value;\r\n\r\n    const pictureInput = document.querySelector('.picture') as HTMLInputElement;\r\n    const picture = pictureInput.value;\r\n\r\n    if (!username || !password || !picture) {\r\n        alert('Please enter all the required information.');\r\n        return;\r\n    }\r\n\r\n    updateAccount(username, password, picture);\r\n}\r\n\r\nconst updateAccount = async (username: string, password: string, picture: string): Promise<any> => {\r\n    const url = firebaseUrl + 'Profiles/' + username + '/info.json';\r\n\r\n    const newUser = {\r\n        name: username,\r\n        password: password,\r\n        picture: picture\r\n    };\r\n\r\n    const init = {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(newUser),\r\n        headers: {\r\n            'Content-type': 'application/json; charset=UTF-8'\r\n        }\r\n    }\r\n\r\n    const response = await fetch(url, init);\r\n    const data = await response.json();\r\n\r\n    window.location.assign('index.html');\r\n}\r\n\r\nfunction selectProfilePic(event) {\r\n    if (event.target.tagName === 'IMG') {\r\n        const img = event.target as HTMLImageElement;\r\n        pictureInput.value = img.src;\r\n\r\n        const allPictures = profilePicContainer.querySelectorAll('img');\r\n        allPictures.forEach((picture) => {\r\n            picture.classList.remove('selected');\r\n        });\r\n        img.classList.add('selected');\r\n    }\r\n}"],"names":["$ac0b5eb6d459b194$var$createBtn","document","querySelector","$ac0b5eb6d459b194$var$profilePicContainer","$ac0b5eb6d459b194$var$pictureInput","addEventListener","event","target","tagName","img","value","src","querySelectorAll","forEach","picture","classList","remove","add","preventDefault","username","password","alert","$ac0b5eb6d459b194$var$updateAccount","async","url","$ac0b5eb6d459b194$var$firebaseUrl","newUser","name","init","method","body","JSON","stringify","headers","response","fetch","json","window","location","assign"],"version":3,"file":"createprofile.3ed3bc1a.js.map"}